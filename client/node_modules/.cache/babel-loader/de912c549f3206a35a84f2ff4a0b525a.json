{"ast":null,"code":"var _jsxFileName = \"/home/dobromir/Documents/React/reduxstructure/src/components/singUp/signUp.js\";\nimport React, { Component } from 'react';\nimport './signUp.css';\nimport { connect } from 'react-redux';\nimport { signUpStart } from '../../redux/user/userActions';\nimport { setAlert } from '../../redux/alerts/alertActions';\nimport * as api from '../../utils/api';\nimport { Redirect } from 'react-router-dom';\n\nclass signUp extends Component {\n  constructor() {\n    super();\n\n    this.onSubmit = async event => {\n      event.preventDefault();\n      const userObj = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        confirmPassword: this.state.confirmPassword\n      };\n\n      try {\n        const {\n          data\n        } = await api.signUp(userObj);\n        console.log(data);\n        this.props.setAlert(data.message, 'success');\n        console.log('after setalert');\n        this.setState({\n          name: '',\n          email: '',\n          password: '',\n          confirmPassword: ''\n        });\n        this.timer = setTimeout(() => {\n          this.props.history.push(\"/\");\n        }, 5500);\n      } catch (error) {\n        console.log(error.response.data.message);\n        this.props.setAlert(error.response.data.message, 'danger');\n        this.setState({\n          name: '',\n          email: '',\n          password: '',\n          confirmPassword: ''\n        });\n      }\n    };\n\n    this.onInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    };\n    this.timer = null;\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"signUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"signUpForm\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"passwordConfirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Confirm Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"confirmPassword\",\n      value: this.state.confirmPassword,\n      onChange: this.onInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      name: \"submit\",\n      value: \"Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return state;\n}\n\nfunction mapPropsToState(dispatch) {\n  return {\n    setAlert: (msg, alertType) => {\n      dispatch(setAlert(msg, alertType));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapPropsToState)(signUp);","map":{"version":3,"sources":["/home/dobromir/Documents/React/reduxstructure/src/components/singUp/signUp.js"],"names":["React","Component","connect","signUpStart","setAlert","api","Redirect","signUp","constructor","onSubmit","event","preventDefault","userObj","name","state","email","password","confirmPassword","data","console","log","props","message","setState","timer","setTimeout","history","push","error","response","onInputChange","target","value","componentWillUnmount","clearInterval","render","mapStateToProps","mapPropsToState","dispatch","msg","alertType"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport './signUp.css';\nimport {connect} from 'react-redux';\nimport {signUpStart} from '../../redux/user/userActions';\nimport {setAlert} from '../../redux/alerts/alertActions';\nimport * as api from '../../utils/api';\nimport { Redirect } from 'react-router-dom';\n\nclass signUp extends Component {\n  \n  \n   \n  constructor(){\n    super();\n    this.state = {\n        name : '',\n        email : '',\n        password : '',\n        confirmPassword : ''\n    };\n    this.timer = null;\n  }\n\n  componentWillUnmount(){\n      clearInterval(this.timer);\n  }\n\n  onSubmit = async (event) => {\n      event.preventDefault();\n      const userObj = {name : this.state.name,email : this.state.email,password : this.state.password,confirmPassword : this.state.confirmPassword};\n      try{\n        const {data} = await api.signUp(userObj);\n        console.log(data);\n        this.props.setAlert(data.message,'success');\n        console.log('after setalert');\n        this.setState({name : '',email : '',password : '',confirmPassword : ''});\n        this.timer = setTimeout(()=>{this.props.history.push(\"/\")},5500)\n      }catch(error){\n        console.log(error.response.data.message);\n        this.props.setAlert(error.response.data.message,'danger');\n        this.setState({name : '',email : '',password : '',confirmPassword : ''});\n      }\n  }\n\n  onInputChange = (event) => {\n    this.setState({[event.target.name] : event.target.value});\n  }\n\n\n  render(){\n    return (\n      <div className=\"signUp\">\n          <form className=\"signUpForm\" onSubmit={this.onSubmit}>\n              <div className=\"form-group\">\n                  <label htmlFor=\"username\">Name</label>\n                  <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onInputChange}/>\n              </div>\n              <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email</label>\n                  <input type=\"email\" name=\"email\" value={this.state.email} onChange={this.onInputChange}/>\n              </div>\n              <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.onInputChange}/>\n              </div>\n              <div className=\"form-group\">\n                  <label htmlFor=\"passwordConfirm\">Confirm Password</label>\n                  <input type=\"password\" name=\"confirmPassword\" value={this.state.confirmPassword} onChange={this.onInputChange}/>\n              </div>\n              <div className=\"form-group\">\n                  <input type=\"submit\" name=\"submit\" value=\"Register\" />\n              </div>\n          </form>\n      </div>\n      \n    );\n  }\n}\n\nfunction mapStateToProps(state){\n\n    return state;\n}\n\nfunction mapPropsToState(dispatch){\n    return{\n        setAlert : (msg,alertType) => {dispatch(setAlert(msg,alertType))}\n    }\n}\n\nexport default connect(mapStateToProps,mapPropsToState)(signUp);"]},"metadata":{},"sourceType":"module"}